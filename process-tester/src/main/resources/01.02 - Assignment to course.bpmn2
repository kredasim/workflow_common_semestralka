<?xml version="1.0" encoding="UTF-8"?> 
<definitions id="Definition"
             targetNamespace="http://www.omg.org/bpmn20"
             typeLanguage="http://www.java.com/javaTypes"
             expressionLanguage="http://www.mvel.org/2.0"
             xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd"
             xmlns:g="http://www.jboss.org/drools/flow/gpd"
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
             xmlns:tns="http://www.jboss.org/drools">

  <itemDefinition id="_aprovedItem" structureRef="String" />
  <itemDefinition id="_ownerItem" structureRef="String" />

  <itemDefinition id="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B-aprovedItem" structureRef="String" />
  <itemDefinition id="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B-ownerItem" structureRef="String" />

  <process processType="Private" isExecutable="true" id="industry.impl.AssignmentToCourse" name="Assignment to course" tns:packageName="industry.impl" >

    <!-- process variables -->
    <property id="aproved" itemSubjectRef="_aprovedItem"/>
    <property id="owner" itemSubjectRef="_ownerItem"/>

    <!-- nodes -->
    <intermediateCatchEvent id="_956AE069-E590-42A8-BA5A-3B92AFA8AB1F" name="Guarantator doesnt respond" >
      <timerEventDefinition>
        <timeDuration xsi:type="tFormalExpression">3000</timeDuration>
      </timerEventDefinition>
    </intermediateCatchEvent>
    <endEvent id="_9981A582-9C1F-49BE-B37E-B95FDE3B798C" name="End notification" />
    <scriptTask id="_99350BA1-3F35-4690-BACB-ACD443DFAEDD" name="Inform university Referent" scriptFormat="http://www.java.com/java" >
      <script>System.out.println("Sending message.");</script>
    </scriptTask>
    <userTask id="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B" name="01 - Approve task" >
      <ioSpecification>
        <inputSet>
        </inputSet>
        <outputSet>
        </outputSet>
      </ioSpecification>
      <potentialOwner>
        <resourceAssignmentExpression>
          <formalExpression>#{owner}</formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
    </userTask>
    <exclusiveGateway id="_703B20BE-5052-4A97-B681-D733DDAD1465" name="Denied?" gatewayDirection="Diverging" />
    <endEvent id="_162ACEED-324E-43A9-B186-8C594A822659" name="Denied" >
      <signalEventDefinition signalRef="helloEnd"/>
    </endEvent>
    <exclusiveGateway id="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A" name="Returned?" gatewayDirection="Diverging" />
    <endEvent id="_AF080CE7-500B-4B56-9579-8435A5E89D13" name="Returned" >
      <signalEventDefinition signalRef=""/>
    </endEvent>
    <endEvent id="_B506E970-5E1A-473D-BEA0-24B9BA18C18A" name="Accepted" >
        <terminateEventDefinition/>
    </endEvent>
    <startEvent id="_BE33C42A-6ED6-41DD-BB98-1016DFEA8486" name="" />
    <parallelGateway id="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57" name="gate1" gatewayDirection="Diverging" />

    <!-- connections -->
    <sequenceFlow id="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57-_956AE069-E590-42A8-BA5A-3B92AFA8AB1F" sourceRef="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57" targetRef="_956AE069-E590-42A8-BA5A-3B92AFA8AB1F" />
    <sequenceFlow id="_99350BA1-3F35-4690-BACB-ACD443DFAEDD-_9981A582-9C1F-49BE-B37E-B95FDE3B798C" sourceRef="_99350BA1-3F35-4690-BACB-ACD443DFAEDD" targetRef="_9981A582-9C1F-49BE-B37E-B95FDE3B798C" />
    <sequenceFlow id="_956AE069-E590-42A8-BA5A-3B92AFA8AB1F-_99350BA1-3F35-4690-BACB-ACD443DFAEDD" sourceRef="_956AE069-E590-42A8-BA5A-3B92AFA8AB1F" targetRef="_99350BA1-3F35-4690-BACB-ACD443DFAEDD" />
    <sequenceFlow id="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57-_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B" sourceRef="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57" targetRef="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B" />
    <sequenceFlow id="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B-_703B20BE-5052-4A97-B681-D733DDAD1465" sourceRef="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B" targetRef="_703B20BE-5052-4A97-B681-D733DDAD1465" />
    <sequenceFlow id="_703B20BE-5052-4A97-B681-D733DDAD1465-_162ACEED-324E-43A9-B186-8C594A822659" sourceRef="_703B20BE-5052-4A97-B681-D733DDAD1465" targetRef="_162ACEED-324E-43A9-B186-8C594A822659" name="YES" >
      <conditionExpression xsi:type="tFormalExpression" language="http://www.java.com/java" >return "denied".equals(aproved);</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="_703B20BE-5052-4A97-B681-D733DDAD1465-_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A" sourceRef="_703B20BE-5052-4A97-B681-D733DDAD1465" targetRef="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A" name="NO" tns:priority="1" >
      <conditionExpression xsi:type="tFormalExpression" language="http://www.java.com/java" >return true;</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A-_AF080CE7-500B-4B56-9579-8435A5E89D13" sourceRef="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A" targetRef="_AF080CE7-500B-4B56-9579-8435A5E89D13" name="Returned" tns:priority="1" >
      <conditionExpression xsi:type="tFormalExpression" >return "returned".equals(aproved);</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A-_B506E970-5E1A-473D-BEA0-24B9BA18C18A" sourceRef="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A" targetRef="_B506E970-5E1A-473D-BEA0-24B9BA18C18A" name="Accepted" tns:priority="1" >
      <conditionExpression xsi:type="tFormalExpression" >return true;</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="_BE33C42A-6ED6-41DD-BB98-1016DFEA8486-_9C9777E1-CFF3-4ABD-9C66-B801F3298A57" sourceRef="_BE33C42A-6ED6-41DD-BB98-1016DFEA8486" targetRef="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57" />

  </process>

  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="industry.impl.AssignmentToCourse" >
      <bpmndi:BPMNShape bpmnElement="_956AE069-E590-42A8-BA5A-3B92AFA8AB1F" >
        <dc:Bounds x="201" y="396" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_9981A582-9C1F-49BE-B37E-B95FDE3B798C" >
        <dc:Bounds x="675" y="398" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_99350BA1-3F35-4690-BACB-ACD443DFAEDD" >
        <dc:Bounds x="326" y="391" width="219" height="59" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B" >
        <dc:Bounds x="212" y="122" width="169" height="82" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_703B20BE-5052-4A97-B681-D733DDAD1465" >
        <dc:Bounds x="420" y="138" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_162ACEED-324E-43A9-B186-8C594A822659" >
        <dc:Bounds x="421" y="15" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A" >
        <dc:Bounds x="612" y="136" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_AF080CE7-500B-4B56-9579-8435A5E89D13" >
        <dc:Bounds x="614" y="19" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_B506E970-5E1A-473D-BEA0-24B9BA18C18A" >
        <dc:Bounds x="814" y="136" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_BE33C42A-6ED6-41DD-BB98-1016DFEA8486" >
        <dc:Bounds x="7" y="138" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57" >
        <dc:Bounds x="101" y="138" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57-_956AE069-E590-42A8-BA5A-3B92AFA8AB1F" >
        <di:waypoint x="125" y="162" />
        <di:waypoint x="225" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_99350BA1-3F35-4690-BACB-ACD443DFAEDD-_9981A582-9C1F-49BE-B37E-B95FDE3B798C" >
        <di:waypoint x="435" y="420" />
        <di:waypoint x="699" y="422" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_956AE069-E590-42A8-BA5A-3B92AFA8AB1F-_99350BA1-3F35-4690-BACB-ACD443DFAEDD" >
        <di:waypoint x="225" y="420" />
        <di:waypoint x="435" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_9C9777E1-CFF3-4ABD-9C66-B801F3298A57-_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B" >
        <di:waypoint x="125" y="162" />
        <di:waypoint x="296" y="163" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_E83EDD46-E1EA-4429-B1C7-2299C8EA9C7B-_703B20BE-5052-4A97-B681-D733DDAD1465" >
        <di:waypoint x="296" y="163" />
        <di:waypoint x="401" y="163" />
        <di:waypoint x="444" y="162" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_703B20BE-5052-4A97-B681-D733DDAD1465-_162ACEED-324E-43A9-B186-8C594A822659" >
        <di:waypoint x="444" y="162" />
        <di:waypoint x="445" y="39" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_703B20BE-5052-4A97-B681-D733DDAD1465-_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A" >
        <di:waypoint x="444" y="162" />
        <di:waypoint x="636" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A-_AF080CE7-500B-4B56-9579-8435A5E89D13" >
        <di:waypoint x="636" y="160" />
        <di:waypoint x="638" y="43" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_1580DCD1-253B-4631-A5A7-BC1A5EB6EE1A-_B506E970-5E1A-473D-BEA0-24B9BA18C18A" >
        <di:waypoint x="636" y="160" />
        <di:waypoint x="838" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_BE33C42A-6ED6-41DD-BB98-1016DFEA8486-_9C9777E1-CFF3-4ABD-9C66-B801F3298A57" >
        <di:waypoint x="31" y="162" />
        <di:waypoint x="125" y="162" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>

</definitions>